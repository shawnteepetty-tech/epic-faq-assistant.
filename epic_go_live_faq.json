<script>
  fetch('epic_go_live_faq.json')
    .then(response => {
      if (!response.ok) {
        throw new Error("Failed to load FAQ file: " + response.status);
      }
      return response.json();
    })
    .then(data => {
      const container = document.getElementById('faqs');
      container.innerHTML = '';

      if (!Array.isArray(data) || data.length === 0) {
        container.innerHTML = '<p>No FAQs available.</p>';
        return;
      }

      data.forEach(section => {
        // Module name
        const deptHeader = document.createElement('h2');
        deptHeader.textContent = section.module;
        container.appendChild(deptHeader);

        // Optional workflow description
        if (section.workflow) {
          const workflowDiv = document.createElement('div');
          workflowDiv.style.marginBottom = "10px";
          workflowDiv.textContent = "Workflow: " + section.workflow;
          container.appendChild(workflowDiv);
        }

        // FAQs
        if (section.qa && section.qa.length > 0) {
          section.qa.forEach(item => {
            const div = document.createElement('div');
            div.className = 'faq-item';
            div.innerHTML = `
              <div class="faq-question">Q: ${item.q}</div>
              <div class="faq-answer">A: ${item.a}</div>
            `;
            container.appendChild(div);
          });
        }
      });
    })
    .catch(err => {
      document.getElementById('faqs').innerHTML =
        '<p class="error">⚠️ Error loading FAQs: ' + err.message + '</p>';
    });
</script>
